library(fmesher)
bnd <- spoly(data.frame(easting = c(0,1,1,0), northing = c(0,0,1,1)))
smesh <- fm_mesh_2d(boundary = bnd,
max.edge = c(0.05,0.4), offset = c(-0.1,0.6))
fem.matrices <- fmesher::fm_fem(smesh)
CinvG <- Matrix::solve(fem.matrices$c1, fem.matrices$g1)
library(sf)
bnd <- spoly(data.frame(easting = c(0,1,1,0), northing = c(0,0,1,1)))
library(inlabru)
bnd <- spoly(data.frame(easting = c(0,1,1,0), northing = c(0,0,1,1)))
smesh <- fm_mesh_2d(boundary = bnd,
max.edge = c(0.05,0.4), offset = c(-0.1,0.6))
fem.matrices <- fmesher::fm_fem(smesh)
CinvG <- Matrix::solve(fem.matrices$c1, fem.matrices$g1)
str(CinvG)
isSymmetric(CinvG)
t(CinvG) == CinvG
Matrix::t(CinvG) == CinvG
sum(rowSums(Matrix::t(CinvG) == CinvG))
sum(Matrix::t(CinvG) == CinvG)
dim(CinvG)
1266*1266
sum(Matrix::t(CinvG) != CinvG)
sum(abs(Matrix::t(CinvG) - CinvG))
sum(abs(Matrix::t(CinvG) - CinvG) > 1e-100)
str(CinvG)
1602756 - 1266**2
CinvG <- Matrix::drop0(CinvG, 1e-100)
str(CinvG)
setwd("~/GitHub/INLAlogrowth-package/R")
setwd("~/GitHub/INLAlogrowth-package")
roxygen2::roxygenise()
